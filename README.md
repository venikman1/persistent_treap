# Persistent Treap
Персистентное декартово дерево

## Что это за структура данных
Декартово дерево по неявному ключу представляет из себя упорядоченное множество объектов, для которых определены следующие операции.
* Взятие объекта по его индексу
* Изменение объекта по индексу
* Разбиение множества на 2 по индексу (все элементы лежищие слева, попадают в первое множество, остальные во второе)
* Слияние двух упорядоченных множеств
* Подсчёт суммы, минимума, максимума и любой другой функции (для которой верно f(x1 ... xn) = f(f(x1 ... xi), f(xi+1 ... xn)) для любого i)
Математическое ожидание асимптотики каждой операции O(log n) 

## Что даёт персистентность
Данная структура сохраняет все свои изменения, время работы каждой операции при этом остаётся O(log n), где n -- количество созданных узлов в дереве. При этом за каждую оперцию не может быть создано больше логарифма от ужеимеющихся узлов.

Сохранение всех версий структуры позволяет делать любые операции с любыми версиями. В том числе, можно сливать множество само с собой, и таким образом получить множество размера s за O(log s) памяти.
